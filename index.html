<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Etch-a-Sketch</title>
</head>

<script src="script.js" defer></script>
<link rel="stylesheet" href="styles.css">

<body>

<h1 class="title">Etch-A-Sketch</h1>
    
<div class="gridContainer"></div>

<div class="buttonsContainer">
    <button class="rainbow">Rainbow Mode</button>
    <button class="opacity">Opacity</button>
    <div class="gridUserInput"><input class="gridSize"><button>Change Grid Size</button></div>
</div>

<script>
    // grid Container for flexbox
    const gridContainer = document.querySelector(".gridContainer");

    //defining global variables we'd need for later
    let grid;
    createGrid(16, 16);
    let rainbow = document.querySelector(".rainbow");
    let opacity = document.querySelector(".opacity");

    //function for future user input
    function createGrid(dimensionX = 16, dimensionY = 16){
        //loop to get the desired amount of squares
        let totalSquares = dimensionX * dimensionY;
        for (i = 0; i < totalSquares; i++) {
            grid = document.createElement("div");
            grid.className = "grid";
            gridContainer.appendChild(grid);
        }
    }

    // Event listener for draw
    gridContainer.addEventListener("mouseover", draw)

    //to make it colorful, make a loop of colors, and colors an array 
    //each iteration, -x to go back to the starting color so the loop would be infinite 
    

    function draw(event) {
        if(event.target.className != "gridContainer") {
        event.target.className = "changed";
        }
    }

    // Event listener for rainbow
    rainbow.addEventListener("click", changeColors)
    
    function changeColors() {
        const normalColor = document.createElement("button");
        normalColor.innerHTML = "Normal Mode";
        normalColor.className = "normal"
        opacity.before(normalColor);
        rainbow.remove();
        gridContainer.removeEventListener("mouseover", draw);
        //Re-add a rainbow event listener
        gridContainer.addEventListener("mouseover", drawRainbow);
        // would need to make rainbow an appended DOM
    }

    function drawRainbow() {
        if(event.target.className != "gridContainer") {
            const colorArray = ["Red", "Blue", "Pink", "Purple", "Yellow", "Orange", "Green", "Orange"];
            for (i = 0; i < colorArray.length; i++) {
            event.target.style.backgroundColor  = (colorArray[i]);
                if (i == colorArray.length) {
                  i = i - colorArray.length;
                 }
        //colorCollection();
        }
    } 
}


</script>
</body>
</html>